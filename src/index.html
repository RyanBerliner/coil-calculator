<!DOCTYPE html>
<html lang="en">
  <head>
    <title>MTB Coil Calculator</title>
    <meta name="description" content="Find the correct coil spring for your mountain bike with this coil calculator. Enter your weight & bike details, or search the bike database." />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="stylesheet" href="style.css" />
    <link rel="preload" href="form.js" as="script" />
    <link rel="preload" href="curve.js" as="script" />
    <link rel="preload" href="dom.js" as="script" />
  </head>
  <body>
    <aside>
      <canvas id="animation"></canvas>
      <button id="simulate">
        <span>Calculated Sag</span>
        <span><span id="sag-output"></span>%</span>
      </button>
      <div class="coil-presets">
        <div><div><span data-coil-preset="300">300</span><span data-coil-preset="305">305</span><span data-coil-preset="310">310</span><span data-coil-preset="315">315</span><span data-coil-preset="320">320</span><span data-coil-preset="325">325</span><span data-coil-preset="330">330</span><span data-coil-preset="335">335</span><span data-coil-preset="340">340</span><span data-coil-preset="345">345</span><span data-coil-preset="350">350</span><span data-coil-preset="355">355</span><span data-coil-preset="360">360</span><span data-coil-preset="365">365</span><span data-coil-preset="370">370</span><span data-coil-preset="375">375</span><span data-coil-preset="380">380</span><span data-coil-preset="385">385</span><span data-coil-preset="390">390</span><span data-coil-preset="395">395</span></div></div>
        <div><div><span data-coil-preset="400">400</span><span data-coil-preset="405">405</span><span data-coil-preset="410">410</span><span data-coil-preset="415">415</span><span data-coil-preset="420">420</span><span data-coil-preset="425">425</span><span data-coil-preset="430">430</span><span data-coil-preset="435">435</span><span data-coil-preset="440">440</span><span data-coil-preset="445">445</span><span data-coil-preset="450">450</span><span data-coil-preset="455">455</span><span data-coil-preset="460">460</span><span data-coil-preset="465">465</span><span data-coil-preset="470">470</span><span data-coil-preset="475">475</span><span data-coil-preset="480">480</span><span data-coil-preset="485">485</span><span data-coil-preset="490">490</span><span data-coil-preset="495">495</span></div></div>
        <div><div><span data-coil-preset="500">500</span><span data-coil-preset="505">505</span><span data-coil-preset="510">510</span><span data-coil-preset="515">515</span><span data-coil-preset="520">520</span><span data-coil-preset="525">525</span><span data-coil-preset="530">530</span><span data-coil-preset="535">535</span><span data-coil-preset="540">540</span><span data-coil-preset="545">545</span><span data-coil-preset="550">550</span><span data-coil-preset="555">555</span><span data-coil-preset="560">560</span><span data-coil-preset="565">565</span><span data-coil-preset="570">570</span><span data-coil-preset="575">575</span><span data-coil-preset="580">580</span><span data-coil-preset="585">585</span><span data-coil-preset="590">590</span><span data-coil-preset="595">595</span></div></div>
        <div><div><span data-coil-preset="600">600</span><span data-coil-preset="605">605</span><span data-coil-preset="610">610</span><span data-coil-preset="615">615</span><span data-coil-preset="620">620</span><span data-coil-preset="625">625</span><span data-coil-preset="630">630</span><span data-coil-preset="635">635</span><span data-coil-preset="640">640</span><span data-coil-preset="645">645</span><span data-coil-preset="650">650</span><span data-coil-preset="655">655</span><span data-coil-preset="660">660</span><span data-coil-preset="665">665</span><span data-coil-preset="670">670</span><span data-coil-preset="675">675</span><span data-coil-preset="680">680</span><span data-coil-preset="685">685</span><span data-coil-preset="690">690</span><span data-coil-preset="695">695</span></div></div>
        <div><div><span data-coil-preset="700">700</span><span data-coil-preset="705">705</span><span data-coil-preset="710">710</span><span data-coil-preset="715">715</span><span data-coil-preset="720">720</span><span data-coil-preset="725">725</span><span data-coil-preset="730">730</span><span data-coil-preset="735">735</span><span data-coil-preset="740">740</span><span data-coil-preset="745">745</span><span data-coil-preset="750">750</span><span data-coil-preset="755">755</span><span data-coil-preset="760">760</span><span data-coil-preset="765">765</span><span data-coil-preset="770">770</span><span data-coil-preset="775">775</span><span data-coil-preset="780">780</span><span data-coil-preset="785">785</span><span data-coil-preset="790">790</span><span data-coil-preset="795">795</span></div></div>
        <div><div><span data-coil-preset="800">800</span><span data-coil-preset="805">805</span><span data-coil-preset="810">810</span><span data-coil-preset="815">815</span><span data-coil-preset="820">820</span><span data-coil-preset="825">825</span><span data-coil-preset="830">830</span><span data-coil-preset="835">835</span><span data-coil-preset="840">840</span><span data-coil-preset="845">845</span><span data-coil-preset="850">850</span><span data-coil-preset="855">855</span><span data-coil-preset="860">860</span><span data-coil-preset="865">865</span><span data-coil-preset="870">870</span><span data-coil-preset="875">875</span><span data-coil-preset="880">880</span><span data-coil-preset="885">885</span><span data-coil-preset="890">890</span><span data-coil-preset="895">895</span></div></div>
      </div>
    </aside>
    <form>
      <fieldset>
        <div>
          <legend>Rider Information</legend>
          <hr aria-hidden="true" />
        </div>

        <label>
          Rider Weight (lbs)
          <input type="number" name="rider-weight" value="165" min="0">
        </label>
        <label>
          Rear Wheel Bias (default 60%)
          <input type="number" name="rear-bias" value="60" min="0" max="100">
        </label>
      </fieldset>

      <fieldset>
        <div>
          <legend>Bike Specs</legend>
          <hr aria-hidden="true" />
          <div class="search">
            <input type="search" placeholder="Search for a bike..." /> 
            <div id="search-results" style="display: none;">
            </div>
          </div>
        </div>


        <label>
          Rear wheel travel (mm)
          <input type="number" name="travel" value="160" min="0">
        </label>
        <label>
          Shock stroke (mm)
          <input type="number" name="stroke" value="60" min="0">
        </label>
        <label>
          Spring Weight (lbs/in)
          <input type="number" name="spring-weight" value="400" min="0">
        </label>
        <div style="display:none;" id="leverage-points">
          <input type="hidden" value="1" />
          <input type="hidden" value="1" />
          <input type="hidden" value="1" />
          <input type="hidden" value="1" />
          <input type="hidden" value="1" />
          <input type="hidden" value="1" />
        </div>
        <div class="curve-heading">
          <h2 id="curve-heading">Leverage Curve</h2>
          <select aria-labelledby="curve-heading">
            <option value="mp">Most Progressive</option>
            <option value="p" selected>Progressive</option>
            <option value="flat">Flat</option>
            <option value="d">Digressive</option>
            <option value="md">Most Digressive</option>
            <option value="c">Custom</option>
          </select>
        </div>
        <div class="curve-container">
          <span id="upper-leverage">1.5</span>
          <span id="base-leverage">1</span>
          <span id="lower-leverage">0.5</span>
          <span class="x-axis">Wheel Travel</span>
          <canvas id="curve"></canvas>
        </div>
        <small class="disclaimer">
          Leverage curves are estimated from available information on the web,
          which may include kinematic analysis of product images. This tool is
          not associated with bike brands, nor has the data been verified.
          <a href="https://github.com/RyanBerliner/coil-calculator/issues">Suggest improvements.</a>
        </small>
      </fieldset>
    </form>
    <footer style="text-align:center;padding: 20px;">
      Learn <a href="https://ryanberliner.com/best-mtb-coil-calculator">about this tool</a>, or
      view code and license on <a href="https://github.com/RyanBerliner/coil-calculator">GitHub</a>
    </footer>
    <script>
      // BIKE_DATA
    </script>
    <script src="form.js" defer></script>
    <script src="curve.js" defer></script>
    <script src="dom.js" defer></script>
  </body>
</html>
