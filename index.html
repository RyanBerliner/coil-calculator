<html lang="en">
  <head>
    <title>MTB Coil Calculator</title>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="stylesheet" href="style.css" />
    <link rel="preload" href="form.js" as="script" />
    <link rel="preload" href="curve.js" as="script" />
    <link rel="preload" href="dom.js" as="script" />
  </head>
  <body>
    <header></header>
    <aside>
      <canvas id="animation"></canvas>
      <div class="sticky">
        <div class="calculated-sag">
          <button id="simulate"><span>Press & Hold</span><br/>to visualize sag</button>
          <div>
            <span>Calculated Sag</span>
            <span><span id="sag-output"></span>%</span>
          </div>
        </div>
      </div>
      <form>
        <fieldset>
          <legend>Rider Information</legend>
          <label>
            Rider Weight (lbs)
            <input type="number" name="rider-weight" value="165">
          </label>
          <label>
            Rear Wheel Bias (default 60%)
            <input type="number" name="rear-bias" value="60">
          </label>
        </fieldset>
        <fieldset>
          <legend>Shock & Bike Specs</legend>
          <label>
            Rear wheel travel (mm)
            <input type="number" name="travel" value="160">
          </label>
          <label>
            Shock stroke (mm)
            <input type="number" name="stroke" value="60">
          </label>
          <label>
            Spring Weight (lbs/in)
            <input type="number" name="spring-weight" value="400">
          </label>
          <div style="display:none;" id="leverage-points">
            <input type="hidden" value="1" />
            <input type="hidden" value="1" />
            <input type="hidden" value="1" />
            <input type="hidden" value="1" />
            <input type="hidden" value="1" />
            <input type="hidden" value="1" />
          </div>
          <div class="curve-heading">
            <h2 id="curve-heading">Leverage Curve</h2>
            <select aria-labelledby="curve-heading">
              <option value="mp">Most Progressive</option>
              <option value="p" selected>Progressive</option>
              <option value="flat">Flat</option>
              <option value="d">Digressive</option>
              <option value="md">Most Digressive</option>
              <option value="c">Custom</option>
            </select>
          </div>
          <div class="curve-container">
            <span id="upper-leverage">1.5</span>
            <span id="base-leverage">1</span>
            <span id="lower-leverage">0.5</span>
            <span class="x-axis">Wheel Travel</span>
            <canvas id="curve"></canvas>
          </div>
        </fieldset>
      </form>
    </aside>
    <main>
      <div class="table">
        <div class="cw-label">Coil Weight (lbs)</div>
        <div class="cw">
          <div><span>400</span></div>
          <div><span>420</span></div>
          <div><span>440</span></div>
          <div><span>460</span></div>
          <div><span>480</span></div>
          <div><span>480</span></div>
        </div>
        <div class="rw-label"><span>Rider Weight (lbs)</span></div>
        <div class="rw">
          <span>400</span>
          <span>420</span>
          <span>440</span>
          <span>460</span>
          <span>480</span>
        </div>
        <div class="table-data">
          <table>
            <tr>
              <td>27%</td>
              <td>27%</td>
              <td>27%</td>
              <td>27%</td>
              <td>27%</td>
              <td>27%</td>
            </tr>
            <tr>
              <td>27%</td>
              <td>27%</td>
              <td>27%</td>
              <td>27%</td>
              <td>27%</td>
              <td>27%</td>
            </tr>
            <tr>
              <td>27%</td>
              <td>27%</td>
              <td>27%</td>
              <td>27%</td>
              <td>27%</td>
              <td>27%</td>
            </tr>
            <tr>
              <td>27%</td>
              <td>27%</td>
              <td>27%</td>
              <td>27%</td>
              <td>27%</td>
              <td>27%</td>
            </tr>
            <tr>
              <td>27%</td>
              <td>27%</td>
              <td>27%</td>
              <td>27%</td>
              <td>27%</td>
              <td>27%</td>
            </tr>
          </table>
        </div>
      </div>
    </main>
    <footer style="text-align:center;padding: 20px;">
      Learn <a href="https://ryanberliner.com/best-mtb-coil-calculator">about this tool</a>, or
      view code and license on <a href="https://github.com/RyanBerliner/coil-calculator">GitHub</a>
    </footer>
    <script src="form.js" defer></script>
    <script src="curve.js" defer></script>
    <script src="dom.js" defer></script>
  </body>
</html>
