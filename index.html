<html lang="en">
  <head>
    <title>MTB Coil Calculator</title>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="stylesheet" href="style.css" />
    <link rel="preload" href="form.js" as="script" />
    <link rel="preload" href="curve.js" as="script" />
    <link rel="preload" href="dom.js" as="script" />
  </head>
  <body>
    <div class="row">
      <div class="column">
        <canvas id="animation"></canvas>
        <button id="simulate"><span>Press & Hold</span><br/>to visualize sag</button>
      </div>
      <div class="column">
        <form>
          <label>
            Rider Weight (lbs)
            <input type="number" name="rider-weight" value="165">
          </label>
          <label>
            Rear wheel travel (mm)
            <input type="number" name="travel" value="160">
          </label>
          <label>
            Shock stroke (mm)
            <input type="number" name="stroke" value="60">
          </label>
          <label>
            Spring Weight (lbs/in)
            <input type="number" name="spring-weight" value="400">
          </label>
          <div style="display:none;" id="leverage-points">
            <input type="hidden" value="1" />
            <input type="hidden" value="1" />
            <input type="hidden" value="1" />
            <input type="hidden" value="1" />
            <input type="hidden" value="1" />
            <input type="hidden" value="1" />
          </div>
          <details open>
            <summary>Advanced Settings (optional)</summary>
            <label>
              Rear Wheel Bias (default 60%)
              <input type="number" name="rear-bias" value="60">
            </label>
            <h2 class="curve-heading">Leverage Curve</h2>
            <div class="curve-container">
              <span id="upper-leverage">1.5</span>
              <span id="base-leverage">1</span>
              <span id="lower-leverage">0.5</span>
              <span class="x-axis">Wheel Travel</span>
              <canvas id="curve"></canvas>
            </div>
          </details>
          <div>
            <strong style="font-size:1.2rem;">Calculated Sag</strong>
            <span style="font-size:1.5rem;"><span id="sag-output"></span>%</span>
          </div>
        </form>
        <footer style="text-align:center;padding: 20px;">View code and license on <a href="https://github.com/RyanBerliner/coil-calculator">GitHub</a></footer>
      </div>
    </div>
    <script src="form.js" defer></script>
    <script src="curve.js" defer></script>
    <script src="dom.js" defer></script>
  </body>
</html>
